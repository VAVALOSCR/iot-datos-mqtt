<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Simulador Motores DC</title>

<style>
body{
    font-family: Arial;
    background:#ecf3f9;
    text-align:center;
}

#robot{
    width:600px;
    height:260px;
    margin:auto;
    background:white;
    border:2px solid black;
    position:relative;
}

.motor{
    width:80px;
    position:absolute;
    top:120px;
}

#A{left:80px;}
#B{right:80px;}

.flecha{
    font-size:40px;
    position:absolute;
    top:20px;
    width:100%;
}

.led{
    width:20px;
    height:20px;
    border-radius:50%;
    background:gray;
    display:inline-block;
    margin:5px;
}

.on{background:lime;}
</style>
</head>

<body>

<h1>Simulador Didáctico de Motores</h1>

<div id="robot">

    <div id="A" class="motor">
        <div class="flecha" id="fa"></div>
        <img src="motor.png" width="80">
    </div>

    <div id="B" class="motor">
        <div class="flecha" id="fb"></div>
        <img src="motor.png" width="80">
    </div>

</div>

<h3>LEDs</h3>

<div>
Motor A:
<span id="A1" class="led"></span>
<span id="A2" class="led"></span>

&nbsp;&nbsp;&nbsp;

Motor B:
<span id="B1" class="led"></span>
<span id="B2" class="led"></span>
</div>

<br>

Motor A:
<input id="eA" size="2">

Motor B:
<input id="eB" size="2">

<button onclick="simular()">Simular</button>

<br><br>

<button onclick="cmd('A')">⬆ Adelante</button>
<button onclick="cmd('B')">⬇ Atrás</button>
<button onclick="cmd('R')">➡ Derecha</button>
<button onclick="cmd('L')">⬅ Izquierda</button>
<button onclick="cmd('S')">⏹ Stop</button>

<p id="msg"></p>

<script>

function led(id,val){
    document.getElementById(id)
    .classList.toggle("on", val=="1");
}

function motor(id,val){

    let f="";

    if(val=="10") f="⬆";
    if(val=="01") f="⬇";

    document.getElementById(id).innerHTML=f;
}

function aplicar(a,b){

    led("A1",a[0]);
    led("A2",a[1]);

    led("B1",b[0]);
    led("B2",b[1]);

    motor("fa",a);
    motor("fb",b);

    let t="";

    if(a=="10"&&b=="10") t="⬆ Adelante";
    else if(a=="01"&&b=="01") t="⬇ Atrás";
    else if(a=="10"&&b=="00") t="➡ Derecha";
    else if(a=="00"&&b=="10") t="⬅ Izquierda";
    else if(a=="00"&&b=="00") t="⏹ Stop";

    document.getElementById("msg").innerText=t;
}

function simular(){

    let a=document.getElementById("eA").value;
    let b=document.getElementById("eB").value;

    if(!["00","01","10"].includes(a)
    || !["00","01","10"].includes(b)){
        alert("Use 00 01 10");
        return;
    }

    aplicar(a,b);
}

function cmd(c){

    if(c=="A") aplicar("10","10");
    if(c=="B") aplicar("01","01");
    if(c=="R") aplicar("10","00");
    if(c=="L") aplicar("00","10");
    if(c=="S") aplicar("00","00");
}

</script>

</body>
</html>
